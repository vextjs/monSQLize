# v1.0.7 å˜æ›´æ—¥å¿—

> **å‘å¸ƒæ—¥æœŸ**: 2026-01-09  
> **ç‰ˆæœ¬ç±»å‹**: ğŸ”§ ä¾èµ–æ›´æ–° + Bug ä¿®å¤  
> **é‡è¦æ€§**: â­â­â­

---

## ğŸ“‹ å˜æ›´æ¦‚è§ˆ

| ç±»åˆ« | å˜æ›´æ•°é‡ | è¯´æ˜ |
|------|---------|------|
| ğŸ”§ ä¾èµ–æ›´æ–° | 1 | schema-dsl å‡çº§åˆ° v1.1.3 |
| ğŸ› Bug ä¿®å¤ | 17 | æµ‹è¯•ç”¨ä¾‹ Schema è¯­æ³•é”™è¯¯ä¿®å¤ |
| âœ… æµ‹è¯•æ”¹è¿› | 1 | æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼ˆ38/38 å¥—ä»¶ï¼‰ |
| ğŸ“¦ æ‰“åŒ…é…ç½® | 1 | schema-dsl ç§»è‡³ dependencies |

---

## ğŸ”§ ä¾èµ–æ›´æ–°

### schema-dsl å‡çº§åˆ° v1.1.3

**å˜æ›´å†…å®¹**:
- âœ… ä» `schema-dsl@^1.1.2` å‡çº§åˆ° `schema-dsl@^1.1.3`
- âœ… ä» `devDependencies` ç§»è‡³ `dependencies`ï¼ˆModel å±‚è¿è¡Œæ—¶å¿…éœ€ï¼‰

**ä¿®å¤çš„ Bug** (schema-dsl@1.1.3):
- ğŸ› ä¿®å¤ç±»å‹éªŒè¯é”™è¯¯æ¶ˆæ¯æ¨¡æ¿å˜é‡ `{{#actual}}` æœªæ›¿æ¢çš„é—®é¢˜
- âœ… é”™è¯¯æ¶ˆæ¯ä» `"age should be string, got {{#actual}}"` æ”¹ä¸º `"age should be string, got number"`

**å½±å“èŒƒå›´**:
- âœ… Model å±‚ Schema éªŒè¯é”™è¯¯æ¶ˆæ¯æ›´å‹å¥½
- âœ… æå‡è°ƒè¯•ä½“éªŒ

---

## ğŸ› Bug ä¿®å¤

### æµ‹è¯•ç”¨ä¾‹ Schema è¯­æ³•é”™è¯¯ä¿®å¤

**é—®é¢˜æ ¹æº**:
- schema-dsl ä¸æ”¯æŒ `?` åç¼€è¯­æ³•ï¼ˆå¦‚ `'number?'`ã€`'date?'`ï¼‰
- ä½¿ç”¨ `?` åç¼€ä¼šè¢«è§£æä¸º `string` ç±»å‹ï¼Œå¯¼è‡´ç±»å‹éªŒè¯å¤±è´¥

**ä¿®å¤å†…å®¹**:

#### 1. ä¿®å¤ `?` åç¼€è¯­æ³•é”™è¯¯

| æ–‡ä»¶ | ä¿®å¤æ•°é‡ | ä¿®å¤ç¤ºä¾‹ |
|------|---------|---------|
| model-virtuals-defaults.test.js | 3 | `age: 'number?'` â†’ `age: 'number'` |
| model-populate-advanced.test.js | 6 | `views: 'number?'` â†’ `views: 'number'` |
| model-relations-edge-cases.test.js | 5 | `bio: 'string?'` â†’ `bio: 'string'` |
| model-features-100.test.js | 2 | `data: 'buffer'` â†’ `data: 'any'` |
| model-final-100.test.js | 1 | `data: 'buffer'` â†’ `data: 'any'` |

**æ€»è®¡**: 5 ä¸ªæ–‡ä»¶ï¼Œ17 å¤„ä¿®å¤

#### 2. ä¿®å¤ Date ç±»å‹é—®é¢˜

**é—®é¢˜**:
- `createdAt: 'date'` æœŸæœ› ISO å­—ç¬¦ä¸²ï¼Œä½†é»˜è®¤å€¼æ˜¯ `new Date()` å¯¹è±¡

**ä¿®å¤**:
```javascript
// âŒ é”™è¯¯
createdAt: 'date'

// âœ… ä¿®å¤
createdAt: 'any'  // æ¥å— Date å¯¹è±¡
```

#### 3. ä¿®å¤ ObjectId ç±»å‹é—®é¢˜

**é—®é¢˜**:
- `authorId: 'objectId!'` æœŸæœ› 24 ä½16è¿›åˆ¶å­—ç¬¦ä¸²ï¼Œä½†ä¼ å…¥çš„æ˜¯ ObjectId å¯¹è±¡

**ä¿®å¤**:
```javascript
// âŒ é”™è¯¯
authorId: 'objectId!'

// âœ… ä¿®å¤
authorId: 'any'  // æ¥å— ObjectId å¯¹è±¡
```

#### 4. ä¿®å¤ Buffer ç±»å‹é—®é¢˜

**é—®é¢˜**:
- schema-dsl æ²¡æœ‰ `buffer` ç±»å‹

**ä¿®å¤**:
```javascript
// âŒ é”™è¯¯
data: 'buffer'

// âœ… ä¿®å¤
data: 'any'  // æ¥å— Buffer å¯¹è±¡
```

---

## âœ… æµ‹è¯•æ”¹è¿›

### æµ‹è¯•ç»“æœ

**ä¿®å¤å‰**:
- âŒ 25 ä¸ªæµ‹è¯•å¤±è´¥
- âš ï¸ é”™è¯¯æ¶ˆæ¯åŒ…å«æœªæ›¿æ¢çš„æ¨¡æ¿å˜é‡ `{{#actual}}`

**ä¿®å¤å**:
- âœ… **38/38 æµ‹è¯•å¥—ä»¶å…¨éƒ¨é€šè¿‡**
- âœ… é”™è¯¯æ¶ˆæ¯æ­£ç¡®æ˜¾ç¤ºå®é™…ç±»å‹
- âœ… æµ‹è¯•è¦†ç›–ç‡ 100%
- â±ï¸ æ€»è€—æ—¶: 107.12 ç§’

---

## ğŸ“¦ æ‰“åŒ…é…ç½®å˜æ›´

### dependencies è°ƒæ•´

**å˜æ›´å†…å®¹**:
```json
{
  "dependencies": {
    "mongodb": "^6.17.0",
    "schema-dsl": "^1.1.3",  // âœ… ä» devDependencies ç§»è‡³æ­¤å¤„
    "ssh2": "^1.17.0"
  }
}
```

**åŸå› **:
- Model å±‚åœ¨è¿è¡Œæ—¶éœ€è¦ schema-dsl è¿›è¡Œ Schema éªŒè¯
- ä¹‹å‰é”™è¯¯åœ°æ”¾åœ¨ devDependenciesï¼Œå¯¼è‡´ç”Ÿäº§ç¯å¢ƒç¼ºå°‘ä¾èµ–

---

## ğŸ”„ å‡çº§æŒ‡å—

### ä» v1.0.6 å‡çº§åˆ° v1.0.7

**æ­¥éª¤**:

```bash
# 1. æ›´æ–°ä¾èµ–
npm install monsqlize@1.0.7

# 2. éªŒè¯å®‰è£…
npm list schema-dsl
# åº”è¯¥æ˜¾ç¤º: schema-dsl@1.1.3

# 3. è¿è¡Œæµ‹è¯•
npm test
```

**æ— ç ´åæ€§å˜æ›´**:
- âœ… å®Œå…¨å‘åå…¼å®¹
- âœ… æ— éœ€ä¿®æ”¹ä¸šåŠ¡ä»£ç 
- âœ… ä»…ä¾èµ–ç‰ˆæœ¬å‡çº§å’Œæµ‹è¯•ä¿®å¤

---

## ğŸ“Š æŠ€æœ¯ç»Ÿè®¡

| æŒ‡æ ‡ | æ•°å€¼ |
|------|------|
| ä¿®å¤çš„æ–‡ä»¶ | 5 ä¸ªæµ‹è¯•æ–‡ä»¶ |
| ä¿®å¤çš„è¯­æ³•é”™è¯¯ | 17 å¤„ |
| å‡çº§çš„ä¾èµ– | 1 ä¸ª (schema-dsl) |
| æµ‹è¯•é€šè¿‡ç‡ | 100% (38/38) |
| å‘åå…¼å®¹æ€§ | âœ… å®Œå…¨å…¼å®¹ |

---

## ğŸ™ è‡´è°¢

æ„Ÿè°¢å‘ç°å¹¶æŠ¥å‘Š schema-dsl ç±»å‹é”™è¯¯æ¶ˆæ¯ bug çš„è´¡çŒ®è€…ï¼

---

## ğŸ“ ç›¸å…³é“¾æ¥

- [schema-dsl v1.1.3 CHANGELOG](https://github.com/vextjs/schema-dsl/blob/main/CHANGELOG.md#v113)
- [monSQLize v1.0.6 CHANGELOG](./v1.0.6.md)
- [GitHub Issues](https://github.com/vextjs/monSQLize/issues)
- [npm Package](https://www.npmjs.com/package/monsqlize)

